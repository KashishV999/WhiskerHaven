<% layout("/layouts/boilerplate") %>

<div class="container px-4 md:px-6 mx-auto py-8 md:py-12">
  <div class="flex items-center gap-2 mb-6">
    <a
      href="/shelters"
      class="flex items-center text-sm text-gray-500 hover:text-gray-900"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="mr-1 h-4 w-4"
      >
        <path d="m15 18-6-6 6-6"></path>
      </svg>
      Back to Shelters
    </a>
  </div>

  <div class="grid gap-8 lg:grid-cols-[2fr_1fr] lg:gap-12">
    <!-- Main content column -->
    <div class="space-y-6">
      <header class="space-y-4">
        <div class="overflow-hidden rounded-lg">
          <img
            src="<%= shelter.image %>"
            alt="Image of <%= shelter.name %>, a <%= shelter.location %> location"
            class="aspect-[16/9] w-full object-cover rounded-lg"
          />
        </div>
        <div class="space-y-2">
          <h1 class="text-3xl font-bold tracking-tight"><%= shelter.name %></h1>
          <div class="flex items-center text-sm text-gray-500">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-1 h-4 w-4"
            >
              <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span><%= shelter.location %></span>
          </div>
        </div>
      </header>

      <!-- Tabs -->
      <div class="border-b">
        <nav class="flex gap-4" aria-label="Tabs">
          <button
            onclick="showSection('about')"
            class="tab-button border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            id="about-tab"
          >
            About
          </button>
          <button
            onclick="showSection('available')"
            class="tab-button border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            id="available-tab"
          >
            Available Pets
          </button>
          <button
            onclick="showSection('process')"
            class="tab-button border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            id="process-tab"
          >
            Adoption Process
          </button>
          <button
            onclick="showSection('contact')"
            class="tab-button border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            id="contact-tab"
          >
            Contact
          </button>
        </nav>
      </div>

      <!-- Tab content -->
      <div id="about" class="tab-content space-y-6">
        <section aria-labelledby="shelter-details" class="space-y-6">
          <div class="prose max-w-none">
            <p class="text-gray-700"><%= shelter.description %></p>
          </div>

          <div class="space-y-4">
            <h2 class="text-2xl font-bold">Our Mission</h2>
            <p class="text-gray-700"><%= shelter.mission %></p>
          </div>
        </section>
      </div>

      <div id="available" class="tab-content space-y-6 hidden">
        <h2 class="text-2xl font-bold">Available Cats</h2>

        <% if (shelter.cats && shelter.cats.length > 0) { %>
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          <% shelter.cats.forEach((cat) => { %>
          <div
            class="overflow-hidden rounded-lg border bg-white shadow-sm transition-all hover:shadow-md"
          >
            <div class="relative">
              <img
                src="<%= cat.image %>"
                alt="<%= cat.name %>"
                class="aspect-[4/3] w-full object-cover"
              />
            </div>
            <div class="p-4">
              <div class="space-y-2">
                <div class="flex items-center justify-between">
                  <h3 class="font-bold"><%= cat.name %></h3>
                  <span class="text-sm text-gray-500"
                    ><%= cat.age %> years</span
                  >
                </div>
                <p class="text-sm text-gray-500">
                  <%= cat.breed %> â€¢ <%= cat.gender %>
                </p>
                <p class="text-sm line-clamp-2"><%= cat.description %></p>
              </div>
            </div>
            <div class="p-4 pt-0">
              <a
                href="/cats/<%= cat._id %>"
                class="inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
              >
                View Details
              </a>
            </div>
          </div>
          <% }) %>
        </div>
        <% } else { %>
        <div
          class="flex flex-col items-center justify-center py-12 text-center bg-gray-50 rounded-lg"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-16 w-16 text-gray-400 mb-4"
          >
            <path d="M17.5 5.5C19 7 20.5 9 21 11c-2.5.5-5 .5-8.5-1"></path>
            <path d="M5.5 17.5C7 19 9 20.5 11 21c.5-2.5.5-5-1-8.5"></path>
            <path d="M16.5 11.5c1 2 1 3.5 1 6-2.5 0-4 0-6-1"></path>
            <path d="M20 11.5c1 1.5 2 3.5 2 4.5-1.5.5-3 0-4.5-.5"></path>
            <path d="M11.5 20c1.5 1 3.5 2 4.5 2 .5-1.5 0-3-.5-4.5"></path>
            <path d="M20.5 16.5c1 2 1.5 3.5 1.5 5.5-2 0-3.5-.5-5.5-1.5"></path>
            <path
              d="M4.783 4.782C1.073 8.492 1 14.5 5 18c3.5-5-2-12-2-12 0 0 7 5.5 12 2-3.5-4-9.508-3.927-13.217-.218Z"
            ></path>
            <path d="M4.5 4.5 3 3c0 0 6 6 4 8-2-2-8-4-8-4l1.5-1.5"></path>
          </svg>
          <h3 class="text-lg font-medium mb-2">No cats available</h3>
          <p class="text-gray-500 max-w-md">
            This shelter currently doesn't have any cats available for adoption.
            Please check back later or contact the shelter for more information.
          </p>
        </div>
        <% } %>
      </div>

      <div id="process" class="tab-content space-y-6 hidden">
        <h2 class="text-2xl font-bold">Our Adoption Process</h2>
        <ol class="space-y-4 ml-6 list-decimal">
          <li class="text-gray-700 pl-2">
            Browse our available pets online or visit our shelter
          </li>
          <li class="text-gray-700 pl-2">Fill out an adoption application</li>
          <li class="text-gray-700 pl-2">
            Meet with our adoption counselors for an interview
          </li>
          <li class="text-gray-700 pl-2">Meet your potential new pet</li>
          <li class="text-gray-700 pl-2">
            Complete the adoption paperwork and pay the adoption fee
          </li>
          <li class="text-gray-700 pl-2">Take your new family member home!</li>
        </ol>

        <div class="mt-6 p-6 bg-gray-50 rounded-lg">
          <h3 class="text-lg font-medium mb-4">Ready to adopt?</h3>
          <p class="text-gray-700 mb-4">
            Start the process by browsing our available cats or contacting us
            directly.
          </p>
          <div class="flex flex-col sm:flex-row gap-4">
            <a
              href="#"
              onclick="showSection('available')"
              class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
            >
              View Available Cats
            </a>
            <a
              href="#"
              onclick="showSection('contact')"
              class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
            >
              Contact Us
            </a>
          </div>
        </div>
      </div>

      <div id="contact" class="tab-content space-y-6 hidden">
        <h2 class="text-2xl font-bold">Contact Information</h2>

        <div class="grid gap-6 md:grid-cols-2">
          <div class="space-y-4">
            <div class="flex items-start space-x-3">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="h-5 w-5 text-gray-500 mt-0.5"
              >
                <path
                  d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
                ></path>
              </svg>
              <div>
                <h3 class="font-medium">Phone</h3>
                <p class="text-gray-700"><%= shelter.phone %></p>
              </div>
            </div>

            <div class="flex items-start space-x-3">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="h-5 w-5 text-gray-500 mt-0.5"
              >
                <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
              </svg>
              <div>
                <h3 class="font-medium">Email</h3>
                <p class="text-gray-700"><%= shelter.email %></p>
              </div>
            </div>

            <div class="flex items-start space-x-3">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="h-5 w-5 text-gray-500 mt-0.5"
              >
                <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              <div>
                <h3 class="font-medium">Address</h3>
                <p class="text-gray-700"><%= shelter.location %></p>
              </div>
            </div>
          </div>

          <div class="space-y-4">
            <h3 class="font-medium">Hours of Operation</h3>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="font-medium">Monday</span>
                <span class="text-gray-500"><%= shelter.hours.Monday %></span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Tuesday</span>
                <span class="text-gray-500"><%= shelter.hours.Tuesday %></span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Wednesday</span>
                <span class="text-gray-500"
                  ><%= shelter.hours.Wednesday %></span
                >
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Thursday</span>
                <span class="text-gray-500"><%= shelter.hours.Thursday %></span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Friday</span>
                <span class="text-gray-500"><%= shelter.hours.Friday %></span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Saturday</span>
                <span class="text-gray-500"><%= shelter.hours.Saturday %></span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Sunday</span>
                <span class="text-gray-500"><%= shelter.hours.Sunday %></span>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-6 p-6 bg-gray-50 rounded-lg">
          <h3 class="text-lg font-medium mb-4">Send us a message</h3>
          <form class="space-y-4">
            <div class="grid gap-4 sm:grid-cols-2">
              <div class="space-y-2">
                <label for="name" class="text-sm font-medium">Name</label>
                <input
                  id="name"
                  class="w-full h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm"
                  placeholder="Your name"
                />
              </div>
              <div class="space-y-2">
                <label for="email" class="text-sm font-medium">Email</label>
                <input
                  id="email"
                  type="email"
                  class="w-full h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm"
                  placeholder="Your email"
                />
              </div>
            </div>
            <div class="space-y-2">
              <label for="subject" class="text-sm font-medium">Subject</label>
              <input
                id="subject"
                class="w-full h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm"
                placeholder="Message subject"
              />
            </div>
            <div class="space-y-2">
              <label for="message" class="text-sm font-medium">Message</label>
              <textarea
                id="message"
                class="w-full min-h-[120px] rounded-md border border-gray-300 bg-white px-3 py-2 text-sm"
                placeholder="Your message"
              ></textarea>
            </div>
            <button
              type="submit"
              class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
            >
              Send Message
            </button>
          </form>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="flex flex-col gap-4 sm:flex-row pt-6 border-t">
        <a
          href="/shelters"
          class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="mr-2 h-4 w-4"
          >
            <path d="m15 18-6-6 6-6"></path>
          </svg>
          Go Back
        </a>
      </div>
    </div>

    <!-- Sidebar column -->
    <div class="space-y-6">
      <div class="rounded-lg border bg-white p-6 shadow-sm">
        <h3 class="text-lg font-medium mb-4">Support This Shelter</h3>
        <p class="text-sm text-gray-500 mb-4">
          Your donation helps us continue our mission of rescuing and rehoming
          cats in need.
        </p>
        <div class="grid grid-cols-3 gap-2 mb-4">
          <button
            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
          >
            $25
          </button>
          <button
            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
          >
            $50
          </button>
          <button
            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
          >
            $100
          </button>
        </div>
        <div class="mb-4">
          <input
            type="number"
            placeholder="Other amount"
            class="w-full h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm"
          />
        </div>
        <button
          class="inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
        >
          Donate Now
        </button>
      </div>

      <div class="rounded-lg border bg-white p-6 shadow-sm">
        <h3 class="text-lg font-medium mb-4">Volunteer Opportunities</h3>
        <p class="text-sm text-gray-500 mb-4">
          We're always looking for dedicated volunteers to help with various
          tasks at our shelter.
        </p>
        <ul class="space-y-2 text-sm mb-4">
          <li class="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2 h-4 w-4 text-green-500"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Cat Care & Socialization
          </li>
          <li class="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2 h-4 w-4 text-green-500"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Adoption Counseling
          </li>
          <li class="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2 h-4 w-4 text-green-500"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Administrative Support
          </li>
          <li class="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2 h-4 w-4 text-green-500"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Event Assistance
          </li>
          <li class="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="mr-2 h-4 w-4 text-green-500"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Foster Care
          </li>
        </ul>
        <a
          href="#"
          onclick="showSection('contact')"
          class="inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
        >
          Contact Us to Volunteer
        </a>
      </div>

      <div class="rounded-lg border bg-white p-6 shadow-sm">
        <h3 class="text-lg font-medium mb-4">Shelter Stats</h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium">Cats Available</span>
            <span class="text-sm font-bold"
              ><%= shelter.cats ? shelter.cats.length : 0 %></span
            >
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium">Adoptions This Month</span>
            <span class="text-sm font-bold">12</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium">Years in Operation</span>
            <span class="text-sm font-bold">8</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium">Volunteers</span>
            <span class="text-sm font-bold">25+</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function showSection(sectionId) {
    // Hide all sections
    document.getElementById("about").style.display = "none";
    document.getElementById("available").style.display = "none";
    document.getElementById("process").style.display = "none";
    document.getElementById("contact").style.display = "none";
    // Show the selected section
    document.getElementById(sectionId).style.display = "block";
  }

  // This runs when the page first loads
  window.onload = function () {
    showSection("about"); // Show only the "About" section by default
  };
</script>
